<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AnimatedlLyrics Demo</title>
  </head>
  <body>
    <section>
      <audio id="music" controls src=""></audio>
      <button onclick="anime.requestPictureInPicture()">open in pictureInPicture</button>
      <div id="changeSongs"></div>
    </section>
    <script src="https://unpkg.com/animated-lyrics"></script>
    <script>
      const songs = [
        {
          src: 'http://music.163.com/song/media/outer/url?id=436514312.mp3',
          title: '成都',
          artist: '赵雷',
          config: {
            activeTextStyle: {
              size: 20,
              fill: '#0f0',
            },
          },
          lrc: `[00:00.000] 作词 : 赵雷
[00:01.000] 作曲 : 赵雷
[00:04.75]编曲：赵雷 / 喜子
[00:05.75]
[00:06.75]BASS：张岭
[00:07.75]鼓：贝贝
[00:08.75]钢琴：柳森
[00:09.75]箱琴：赵雷 / 喜子
[00:10.75]笛子：祝子
[00:11.75]弦乐编写：柳森
[00:12.75]弦乐：亚洲爱乐国际乐团
[00:13.75]和声：朱奇迹 / 赵雷 / 旭东
[00:16.75]让我掉下眼泪的 不止昨夜的酒
[00:25.91]让我依依不舍的 不止你的温柔
[00:33.91]余路还要走多久 你攥着我的手
[00:41.70]让我感到为难的 是挣扎的自由
[00:52.10]分别总是在九月 回忆是思念的愁
[00:59.63]深秋嫩绿的垂柳 亲吻着我额头
[01:07.53]在那座阴雨的小城里 我从未忘记你
[01:15.41]成都 带不走的 只有你
[01:23.69]和我在成都的街头走一走
[01:31.08]直到所有的灯都熄灭了也不停留
[01:39.69]你会挽着我的衣袖 我会把手揣进裤兜
[01:47.08]走到玉林路的尽头 坐在(走过)小酒馆的门口
[02:30.37]分别总是在九月 回忆是思念的愁
[02:38.10]深秋嫩绿的垂柳 亲吻着我额头
[02:46.13]在那座阴雨的小城里 我从未忘记你
[02:54.02]成都 带不走的 只有你
[03:02.34]和我在成都的街头走一走
[03:10.41]直到所有的灯都熄灭了也不停留
[03:18.34]你会挽着我的衣袖 我会把手揣进裤兜
[03:25.51]走到玉林路的尽头 坐在(走过)小酒馆的门口
[04:35.96][03:35.40]和我在成都的街头走一走
[04:42.76][03:45.39]直到所有的灯都熄灭了也不停留
[03:53.62]和我在成都的街头走一走
[04:01.35]直到所有的灯都熄灭了也不停留
[04:08.95]你会挽着我的衣袖 我会把手揣进裤兜
[04:17.27]走到玉林路的尽头 坐在(走过)小酒馆的门口`,
        },
        {
          src: 'http://music.163.com/song/media/outer/url?id=28587850.mp3',
          title: '问题出现我再告诉大家',
          config: {
            activeTextStyle: {
              fill: '#fff',
            },
          },
          artist: '五条人',
          lrc: `[00:19.355]告诉大家
[00:21.899]我的朋友要结婚啦
[00:25.515]我打算那晚灌醉他
[00:29.131]因为过了那晚
[00:32.899]他就要做孩子的爸爸
[00:36.719]再告诉大家
[00:40.335]我的朋友去澳洲啦
[00:42.272]在昨天晚上九点
[00:47.620]他离开心爱的女友
[00:51.387]说一年后再见
[00:56.575]所有年轻人，年轻人，年轻人
[01:00.231]问题出现我再告诉大家！
[01:03.745]所有年轻人，年轻人，年轻人
[01:06.541]问题出现我再告诉大家！
[01:45.270]告诉大家
[01:48.626]我的朋友他喝醉啦
[01:52.230]哭叫得一塌糊涂
[01:55.810]还把别人的车给砸了
[01:59.778]醒后赔了一千五
[02:03.499]再告诉大家
[02:07.10]我的朋友他归来啦
[02:10.698]还戴着那只老手表
[02:14.18]说去到哪儿都一样
[02:18.77]只要看心情怎么样
[02:22.905]所有年轻人，年轻人，年轻人
[02:27.70]问题出现我再告诉大家！
[02:30.533]所有年轻人，年轻人，年轻人
[02:34.505]问题出现我再告诉大家！`,
        },
        {
          src: 'http://music.163.com/song/media/outer/url?id=491295414.mp3',
          title: '月曜日の朝、スカートを切られた',
          artist: '欅坂46',
          lrc: `[00:00.000] 作词 : 秋元　康
[00:00.030] 作曲 : 饗庭純
[00:00.61]OH OH OH…
[00:19.64]どうして学校へ行かなきゃいけないんだ
[00:24.39]真実を教えないならネットで知るからいい
[00:29.16]友達を作りなさい スポーツをやりなさい
[00:33.69]作り笑いの教師が見せかけの愛を謳(うた)う
[00:38.58]反抗したいほど
[00:40.67]熱いものもなく
[00:42.94]受け入れてしまうほど
[00:45.46]従順でもなく
[00:47.59]あと何年だろう
[00:49.84]ここから出るには…
[00:52.30]大人になるため
[00:54.27]嘘に慣れろ!
[00:56.61]月曜日の朝、スカートを切られた
[01:01.42]通学電車の誰かにやられたんだろう
[01:06.13]どこかの暗闇でストレス溜め込んで
[01:10.66]憂さ晴らしか
[01:12.36]私は悲鳴なんか上げない
[01:15.06]OH OH OH…
[01:33.40]これから先もずっと電車は満員で
[01:38.22]夢も希望もないのに各駅停車かい?
[01:43.02]努力は報われますよ 人間は平等ですよ
[01:47.36]幸せじゃない大人に説得力あるものか
[01:52.13]死んでしまいたいほど
[01:54.62]愚かにもなれず
[01:56.78]生き永らえたいほど
[01:59.14]楽しみでもない
[02:01.23]もう持て余してる
[02:03.72]残りの人生
[02:05.88]目立たないように
[02:08.21]息を止めろ!
[02:10.28]誰もが
[02:14.67]何かを
[02:19.60]切られながら
[02:24.12]生きている
[02:34.13]よく晴れてた朝、スカートを切られた
[02:38.50]無視された社会の隅に存在する孤独
[02:43.08]自分はここにいる それだけ伝えたい
[02:47.44]したり顔で
[02:49.23]あんたは私の何を知る?
[02:52.06]月曜日の朝、スカートを切られた
[02:56.91]通学電車の誰かにやられたんだろう
[03:01.60]どこかの暗闇でストレス溜め込んで
[03:06.08]憂さ晴らしか
[03:07.58]私は悲鳴なんか上げない
[03:10.49]OH OH OH…
[03:28.87]
`,
        },
      ]
      const anime = new AnimatedLyrics()
      const btnContainer = document.getElementById('changeSongs')
      const createBtn = ({ src, lrc, title, artist, config }) => {
        const btn = document.createElement('button')
        btn.innerText = `play: ${title}`
        btn.onclick = () => {
          const el = document.getElementById('music')
          el.src = src
          el.play()
          anime.updateConfig(config)
          anime.update(el, lrc, {
            title,
            artist,
          })
        }
        btnContainer.appendChild(btn)
      }
      songs.forEach((song) => {
        createBtn(song)
      })
    </script>
  </body>
</html>
